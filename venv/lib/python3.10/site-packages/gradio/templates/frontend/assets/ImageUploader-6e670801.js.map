{"version":3,"file":"ImageUploader-6e670801.js","sources":["../../../../js/icons/src/Camera.svelte","../../../../js/icons/src/Circle.svelte","../../../../js/icons/src/Square.svelte","../../../../js/image/shared/utils.ts","../../../../js/image/shared/ImagePreview.svelte","../../../../js/image/shared/Webcam.svelte","../../../../js/image/shared/ClearImage.svelte","../../../../js/image/shared/ImageUploader.svelte"],"sourcesContent":["<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\tviewBox=\"0 0 24 24\"\n\tfill=\"none\"\n\tstroke=\"currentColor\"\n\tstroke-width=\"1.5\"\n\tstroke-linecap=\"round\"\n\tstroke-linejoin=\"round\"\n\tclass=\"feather feather-camera\"\n>\n\t<path\n\t\td=\"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z\"\n\t/>\n\t<circle cx=\"12\" cy=\"13\" r=\"4\" />\n</svg>\n","<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width=\"1.5\"\n\tstroke-linecap=\"round\"\n\tstroke-linejoin=\"round\"\n\tclass=\"feather feather-circle\"\n>\n\t<circle cx=\"12\" cy=\"12\" r=\"10\" />\n</svg>\n","<svg\n\txmlns=\"http://www.w3.org/2000/svg\"\n\twidth=\"100%\"\n\theight=\"100%\"\n\tviewBox=\"0 0 24 24\"\n\tstroke-width=\"1.5\"\n\tstroke-linecap=\"round\"\n\tstroke-linejoin=\"round\"\n\tclass=\"feather feather-square\"\n>\n\t<rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\" />\n</svg>\n","export const get_coordinates_of_clicked_image = (\n\tevt: MouseEvent\n): [number, number] | null => {\n\tlet image = evt.currentTarget as HTMLImageElement;\n\n\tconst imageRect = image.getBoundingClientRect();\n\tconst xScale = image.naturalWidth / imageRect.width;\n\tconst yScale = image.naturalHeight / imageRect.height;\n\tif (xScale > yScale) {\n\t\tconst displayed_height = image.naturalHeight / xScale;\n\t\tconst y_offset = (imageRect.height - displayed_height) / 2;\n\t\tvar x = Math.round((evt.clientX - imageRect.left) * xScale);\n\t\tvar y = Math.round((evt.clientY - imageRect.top - y_offset) * xScale);\n\t} else {\n\t\tconst displayed_width = image.naturalWidth / yScale;\n\t\tconst x_offset = (imageRect.width - displayed_width) / 2;\n\t\tvar x = Math.round((evt.clientX - imageRect.left - x_offset) * yScale);\n\t\tvar y = Math.round((evt.clientY - imageRect.top) * yScale);\n\t}\n\tif (x < 0 || x >= image.naturalWidth || y < 0 || y >= image.naturalHeight) {\n\t\treturn null;\n\t}\n\treturn [x, y];\n};\n","<script lang=\"ts\">\n\timport { createEventDispatcher } from \"svelte\";\n\timport type { SelectData } from \"@gradio/utils\";\n\timport { uploadToHuggingFace } from \"@gradio/utils\";\n\timport { BlockLabel, Empty, IconButton, ShareButton } from \"@gradio/atoms\";\n\timport { Download } from \"@gradio/icons\";\n\timport { get_coordinates_of_clicked_image } from \"./utils\";\n\timport Image from \"./Image.svelte\";\n\timport { DownloadLink } from \"@gradio/wasm/svelte\";\n\n\timport { Image as ImageIcon } from \"@gradio/icons\";\n\timport { type FileData, normalise_file } from \"@gradio/client\";\n\timport type { I18nFormatter } from \"@gradio/utils\";\n\n\texport let value: null | FileData;\n\texport let label: string | undefined = undefined;\n\texport let show_label: boolean;\n\texport let show_download_button = true;\n\texport let selectable = false;\n\texport let show_share_button = false;\n\texport let i18n: I18nFormatter;\n\n\tconst dispatch = createEventDispatcher<{\n\t\tchange: string;\n\t\tselect: SelectData;\n\t}>();\n\n\tconst handle_click = (evt: MouseEvent): void => {\n\t\tlet coordinates = get_coordinates_of_clicked_image(evt);\n\t\tif (coordinates) {\n\t\t\tdispatch(\"select\", { index: coordinates, value: null });\n\t\t}\n\t};\n</script>\n\n<BlockLabel\n\t{show_label}\n\tIcon={ImageIcon}\n\tlabel={label || i18n(\"image.image\")}\n/>\n{#if value === null || !value.url}\n\t<Empty unpadded_box={true} size=\"large\"><ImageIcon /></Empty>\n{:else}\n\t<div class=\"icon-buttons\">\n\t\t{#if show_download_button}\n\t\t\t<DownloadLink href={value.url} download={value.orig_name || \"image\"}>\n\t\t\t\t<IconButton Icon={Download} label={i18n(\"common.download\")} />\n\t\t\t</DownloadLink>\n\t\t{/if}\n\t\t{#if show_share_button}\n\t\t\t<ShareButton\n\t\t\t\t{i18n}\n\t\t\t\ton:share\n\t\t\t\ton:error\n\t\t\t\tformatter={async (value) => {\n\t\t\t\t\tif (!value) return \"\";\n\t\t\t\t\tlet url = await uploadToHuggingFace(value, \"base64\");\n\t\t\t\t\treturn `<img src=\"${url}\" />`;\n\t\t\t\t}}\n\t\t\t\t{value}\n\t\t\t/>\n\t\t{/if}\n\t</div>\n\t<button on:click={handle_click}>\n\t\t<div class:selectable class=\"image-container\">\n\t\t\t<Image src={value.url} alt=\"\" loading=\"lazy\" />\n\t\t</div>\n\t</button>\n{/if}\n\n<style>\n\t.image-container :global(img),\n\tbutton {\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t\tobject-fit: contain;\n\t\tdisplay: block;\n\t\tborder-radius: var(--radius-lg);\n\t}\n\n\t.selectable {\n\t\tcursor: crosshair;\n\t}\n\n\t.icon-buttons {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\ttop: 6px;\n\t\tright: 6px;\n\t\tgap: var(--size-1);\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { createEventDispatcher, onMount, tick } from \"svelte\";\n\timport { Camera, Circle, Square, DropdownArrow } from \"@gradio/icons\";\n\timport type { I18nFormatter } from \"@gradio/utils\";\n\n\tlet video_source: HTMLVideoElement;\n\tlet canvas: HTMLCanvasElement;\n\texport let streaming = false;\n\texport let pending = false;\n\n\texport let mode: \"image\" | \"video\" = \"image\";\n\texport let mirror_webcam: boolean;\n\texport let include_audio: boolean;\n\texport let i18n: I18nFormatter;\n\n\tconst dispatch = createEventDispatcher<{\n\t\tstream: undefined;\n\t\tcapture: Blob;\n\t\terror: string;\n\t\tstart_recording: undefined;\n\t\tstop_recording: undefined;\n\t}>();\n\n\tonMount(() => (canvas = document.createElement(\"canvas\")));\n\tconst size = {\n\t\twidth: { ideal: 1920 },\n\t\theight: { ideal: 1440 }\n\t};\n\tasync function access_webcam(device_id?: string): Promise<void> {\n\t\tif (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n\t\t\tdispatch(\"error\", i18n(\"image.no_webcam_support\"));\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\tstream = await navigator.mediaDevices.getUserMedia({\n\t\t\t\tvideo: device_id ? { deviceId: { exact: device_id }, ...size } : size,\n\t\t\t\taudio: include_audio\n\t\t\t});\n\t\t\tvideo_source.srcObject = stream;\n\t\t\tvideo_source.muted = true;\n\t\t\tvideo_source.play();\n\t\t} catch (err) {\n\t\t\tif (err instanceof DOMException && err.name == \"NotAllowedError\") {\n\t\t\t\tdispatch(\"error\", i18n(\"image.allow_webcam_access\"));\n\t\t\t} else {\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction take_picture(): void {\n\t\tvar context = canvas.getContext(\"2d\")!;\n\n\t\tif (video_source.videoWidth && video_source.videoHeight) {\n\t\t\tcanvas.width = video_source.videoWidth;\n\t\t\tcanvas.height = video_source.videoHeight;\n\t\t\tcontext.drawImage(\n\t\t\t\tvideo_source,\n\t\t\t\t0,\n\t\t\t\t0,\n\t\t\t\tvideo_source.videoWidth,\n\t\t\t\tvideo_source.videoHeight\n\t\t\t);\n\n\t\t\tif (mirror_webcam) {\n\t\t\t\tcontext.scale(-1, 1);\n\t\t\t\tcontext.drawImage(video_source, -video_source.videoWidth, 0);\n\t\t\t}\n\n\t\t\tcanvas.toBlob(\n\t\t\t\t(blob) => {\n\t\t\t\t\tdispatch(streaming ? \"stream\" : \"capture\", blob);\n\t\t\t\t},\n\t\t\t\t\"image/png\",\n\t\t\t\t0.8\n\t\t\t);\n\t\t}\n\t}\n\n\tlet recording = false;\n\tlet recorded_blobs: BlobPart[] = [];\n\tlet stream: MediaStream;\n\tlet mimeType: string;\n\tlet media_recorder: MediaRecorder;\n\n\tfunction take_recording(): void {\n\t\tif (recording) {\n\t\t\tmedia_recorder.stop();\n\t\t\tlet video_blob = new Blob(recorded_blobs, { type: mimeType });\n\t\t\tlet ReaderObj = new FileReader();\n\t\t\tReaderObj.onload = function (e): void {\n\t\t\t\tif (e.target) {\n\t\t\t\t\tdispatch(\"capture\", {\n\t\t\t\t\t\t//@ts-ignore\n\t\t\t\t\t\tdata: e.target.result,\n\t\t\t\t\t\tname: \"sample.\" + mimeType.substring(6),\n\t\t\t\t\t\tis_example: false,\n\t\t\t\t\t\tis_file: false\n\t\t\t\t\t});\n\t\t\t\t\tdispatch(\"stop_recording\");\n\t\t\t\t}\n\t\t\t};\n\t\t\tReaderObj.readAsDataURL(video_blob);\n\t\t} else {\n\t\t\tdispatch(\"start_recording\");\n\t\t\trecorded_blobs = [];\n\t\t\tlet validMimeTypes = [\"video/webm\", \"video/mp4\"];\n\t\t\tfor (let validMimeType of validMimeTypes) {\n\t\t\t\tif (MediaRecorder.isTypeSupported(validMimeType)) {\n\t\t\t\t\tmimeType = validMimeType;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (mimeType === null) {\n\t\t\t\tconsole.error(\"No supported MediaRecorder mimeType\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tmedia_recorder = new MediaRecorder(stream, {\n\t\t\t\tmimeType: mimeType\n\t\t\t});\n\t\t\tmedia_recorder.addEventListener(\"dataavailable\", function (e) {\n\t\t\t\trecorded_blobs.push(e.data);\n\t\t\t});\n\t\t\tmedia_recorder.start(200);\n\t\t}\n\t\trecording = !recording;\n\t}\n\n\taccess_webcam();\n\n\tif (streaming && mode === \"image\") {\n\t\twindow.setInterval(() => {\n\t\t\tif (video_source && !pending) {\n\t\t\t\ttake_picture();\n\t\t\t}\n\t\t}, 500);\n\t}\n\n\tasync function select_source(): Promise<void> {\n\t\tconst devices = await navigator.mediaDevices.enumerateDevices();\n\t\tvideo_sources = devices.filter((device) => device.kind === \"videoinput\");\n\t\toptions_open = true;\n\t}\n\n\tlet video_sources: MediaDeviceInfo[] = [];\n\tasync function selectVideoSource(device_id: string): Promise<void> {\n\t\tawait access_webcam(device_id);\n\t\toptions_open = false;\n\t}\n\n\tlet options_open = false;\n\n\texport function click_outside(node: Node, cb: any): any {\n\t\tconst handle_click = (event: MouseEvent): void => {\n\t\t\tif (\n\t\t\t\tnode &&\n\t\t\t\t!node.contains(event.target as Node) &&\n\t\t\t\t!event.defaultPrevented\n\t\t\t) {\n\t\t\t\tcb(event);\n\t\t\t}\n\t\t};\n\n\t\tdocument.addEventListener(\"click\", handle_click, true);\n\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\tdocument.removeEventListener(\"click\", handle_click, true);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction handle_click_outside(event: MouseEvent): void {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\toptions_open = false;\n\t}\n</script>\n\n<div class=\"wrap\">\n\t<!-- svelte-ignore a11y-media-has-caption -->\n\t<!-- need to suppress for video streaming https://github.com/sveltejs/svelte/issues/5967 -->\n\t<video bind:this={video_source} class:flip={mirror_webcam} />\n\t{#if !streaming}\n\t\t<div class=\"button-wrap\">\n\t\t\t<button\n\t\t\t\ton:click={mode === \"image\" ? take_picture : take_recording}\n\t\t\t\taria-label={mode === \"image\" ? \"capture photo\" : \"start recording\"}\n\t\t\t>\n\t\t\t\t{#if mode === \"video\"}\n\t\t\t\t\t{#if recording}\n\t\t\t\t\t\t<div class=\"icon red\" title=\"stop recording\">\n\t\t\t\t\t\t\t<Square />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{:else}\n\t\t\t\t\t\t<div class=\"icon red\" title=\"start recording\">\n\t\t\t\t\t\t\t<Circle />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t{/if}\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"icon\" title=\"capture photo\">\n\t\t\t\t\t\t<Camera />\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</button>\n\n\t\t\t{#if !recording}\n\t\t\t\t<button\n\t\t\t\t\ton:click={select_source}\n\t\t\t\t\taria-label={mode === \"image\" ? \"capture photo\" : \"start recording\"}\n\t\t\t\t>\n\t\t\t\t\t<div class=\"icon\" title=\"select video source\">\n\t\t\t\t\t\t<DropdownArrow />\n\t\t\t\t\t</div>\n\t\t\t\t</button>\n\t\t\t{/if}\n\t\t</div>\n\t\t{#if options_open}\n\t\t\t<select\n\t\t\t\tclass=\"select-wrap\"\n\t\t\t\taria-label=\"select source\"\n\t\t\t\tuse:click_outside={handle_click_outside}\n\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\tclass=\"inset-icon\"\n\t\t\t\t\ton:click|stopPropagation={() => (options_open = false)}\n\t\t\t\t>\n\t\t\t\t\t<DropdownArrow />\n\t\t\t\t</button>\n\t\t\t\t{#if video_sources.length === 0}\n\t\t\t\t\t<option value=\"\">{i18n(\"common.no_devices\")}</option>\n\t\t\t\t{:else}\n\t\t\t\t\t{#each video_sources as source}\n\t\t\t\t\t\t<option on:click={() => selectVideoSource(source.deviceId)}>\n\t\t\t\t\t\t\t{source.label}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t{/each}\n\t\t\t\t{/if}\n\t\t\t</select>\n\t\t{/if}\n\t{/if}\n</div>\n\n<style>\n\t.wrap {\n\t\tposition: relative;\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t}\n\n\tvideo {\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t\tobject-fit: cover;\n\t}\n\n\t.button-wrap {\n\t\tposition: absolute;\n\t\tbackground-color: var(--block-background-fill);\n\t\tborder: 1px solid var(--border-color-primary);\n\t\tborder-radius: var(--radius-xl);\n\t\tpadding: var(--size-1-5);\n\t\tdisplay: flex;\n\t\tbottom: var(--size-2);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, 0);\n\t\tbox-shadow: var(--shadow-drop-lg);\n\t\tborder-radius: var(--radius-xl);\n\t\tline-height: var(--size-3);\n\t\tcolor: var(--button-secondary-text-color);\n\t}\n\n\t@media (--screen-md) {\n\t\tbutton {\n\t\t\tbottom: var(--size-4);\n\t\t}\n\t}\n\n\t@media (--screen-xl) {\n\t\tbutton {\n\t\t\tbottom: var(--size-8);\n\t\t}\n\t}\n\n\t.icon {\n\t\topacity: 0.8;\n\t\twidth: 18px;\n\t\theight: 18px;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\n\t.red {\n\t\tfill: red;\n\t\tstroke: red;\n\t}\n\n\t.flip {\n\t\ttransform: scaleX(-1);\n\t}\n\n\t.select-wrap {\n\t\t-webkit-appearance: none;\n\t\t-moz-appearance: none;\n\t\tappearance: none;\n\t\tcolor: var(--button-secondary-text-color);\n\t\tbackground-color: transparent;\n\t\twidth: 95%;\n\t\tfont-size: var(--text-md);\n\t\tposition: absolute;\n\t\tbottom: var(--size-2);\n\t\tbackground-color: var(--block-background-fill);\n\t\tbox-shadow: var(--shadow-drop-lg);\n\t\tborder-radius: var(--radius-xl);\n\t\tz-index: var(--layer-top);\n\t\tborder: 1px solid var(--border-color-primary);\n\t\ttext-align: left;\n\t\tline-height: var(--size-4);\n\t\twhite-space: nowrap;\n\t\ttext-overflow: ellipsis;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, 0);\n\t\tmax-width: var(--size-52);\n\t}\n\n\t.select-wrap > option {\n\t\tpadding: 0.25rem 0.5rem;\n\t\tborder-bottom: 1px solid var(--border-color-accent);\n\t\tpadding-right: var(--size-8);\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden;\n\t}\n\n\t.select-wrap > option:hover {\n\t\tbackground-color: var(--color-accent);\n\t}\n\n\t.select-wrap > option:last-child {\n\t\tborder: none;\n\t}\n\n\t.inset-icon {\n\t\tposition: absolute;\n\t\ttop: 5px;\n\t\tright: -6.5px;\n\t\twidth: var(--size-10);\n\t\theight: var(--size-5);\n\t\topacity: 0.8;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { createEventDispatcher } from \"svelte\";\n\timport { IconButton } from \"@gradio/atoms\";\n\timport { Clear } from \"@gradio/icons\";\n\n\tconst dispatch = createEventDispatcher();\n</script>\n\n<div>\n\t<IconButton\n\t\tIcon={Clear}\n\t\tlabel=\"Remove Image\"\n\t\ton:click={(event) => {\n\t\t\tdispatch(\"remove_image\");\n\t\t\tevent.stopPropagation();\n\t\t}}\n\t/>\n</div>\n\n<style>\n\tdiv {\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t\ttop: var(--size-2);\n\t\tright: var(--size-2);\n\t\tjustify-content: flex-end;\n\t\tgap: var(--spacing-sm);\n\t\tz-index: var(--layer-5);\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { createEventDispatcher, tick } from \"svelte\";\n\timport { BlockLabel } from \"@gradio/atoms\";\n\timport { Image as ImageIcon } from \"@gradio/icons\";\n\timport type { SelectData, I18nFormatter } from \"@gradio/utils\";\n\timport { get_coordinates_of_clicked_image } from \"./utils\";\n\timport Webcam from \"./Webcam.svelte\";\n\n\timport { Upload } from \"@gradio/upload\";\n\timport { type FileData, normalise_file } from \"@gradio/client\";\n\timport ClearImage from \"./ClearImage.svelte\";\n\timport { SelectSource } from \"@gradio/atoms\";\n\timport Image from \"./Image.svelte\";\n\n\texport let value: null | FileData;\n\texport let label: string | undefined = undefined;\n\texport let show_label: boolean;\n\n\ttype source_type = \"upload\" | \"webcam\" | \"clipboard\" | \"microphone\" | null;\n\n\texport let sources: source_type[] = [\"upload\", \"clipboard\", \"webcam\"];\n\texport let streaming = false;\n\texport let pending = false;\n\texport let mirror_webcam: boolean;\n\texport let selectable = false;\n\texport let root: string;\n\texport let i18n: I18nFormatter;\n\n\tlet upload: Upload;\n\tlet uploading = false;\n\texport let active_source: source_type = null;\n\n\tfunction handle_upload({ detail }: CustomEvent<FileData>): void {\n\t\tvalue = normalise_file(detail, root, null);\n\t\tdispatch(\"upload\");\n\t}\n\n\tfunction handle_clear(): void {\n\t\tvalue = null;\n\t\tdispatch(\"clear\");\n\t\tdispatch(\"change\", null);\n\t}\n\n\tasync function handle_save(img_blob: Blob | any): Promise<void> {\n\t\tpending = true;\n\t\tconst f = await upload.load_files([new File([img_blob], `webcam.png`)]);\n\n\t\tvalue = f?.[0] || null;\n\n\t\tawait tick();\n\n\t\tdispatch(streaming ? \"stream\" : \"change\");\n\t\tpending = false;\n\t}\n\n\t$: active_streaming = streaming && active_source === \"webcam\";\n\t$: if (uploading && !active_streaming) value = null;\n\n\t$: value && !value.url && (value = normalise_file(value, root, null));\n\n\tconst dispatch = createEventDispatcher<{\n\t\tchange?: never;\n\t\tstream?: never;\n\t\tclear?: never;\n\t\tdrag: boolean;\n\t\tupload?: never;\n\t\tselect: SelectData;\n\t}>();\n\n\tlet dragging = false;\n\n\t$: dispatch(\"drag\", dragging);\n\n\tfunction handle_click(evt: MouseEvent): void {\n\t\tlet coordinates = get_coordinates_of_clicked_image(evt);\n\t\tif (coordinates) {\n\t\t\tdispatch(\"select\", { index: coordinates, value: null });\n\t\t}\n\t}\n\n\t$: if (!active_source && sources) {\n\t\tactive_source = sources[0];\n\t}\n\n\tasync function handle_select_source(\n\t\tsource: (typeof sources)[number]\n\t): Promise<void> {\n\t\tswitch (source) {\n\t\t\tcase \"clipboard\":\n\t\t\t\tupload.paste_clipboard();\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tbreak;\n\t\t}\n\t}\n</script>\n\n<BlockLabel {show_label} Icon={ImageIcon} label={label || \"Image\"} />\n\n<div data-testid=\"image\" class=\"image-container\">\n\t{#if value?.url && !active_streaming}\n\t\t<ClearImage\n\t\t\ton:remove_image={() => {\n\t\t\t\tvalue = null;\n\t\t\t\tdispatch(\"clear\");\n\t\t\t}}\n\t\t/>\n\t{/if}\n\t<div class=\"upload-container\">\n\t\t<Upload\n\t\t\thidden={value !== null || active_source === \"webcam\"}\n\t\t\tbind:this={upload}\n\t\t\tbind:uploading\n\t\t\tbind:dragging\n\t\t\tfiletype={active_source === \"clipboard\" ? \"clipboard\" : \"image/*\"}\n\t\t\ton:load={handle_upload}\n\t\t\ton:error\n\t\t\t{root}\n\t\t\tdisable_click={!sources.includes(\"upload\")}\n\t\t>\n\t\t\t{#if value === null}\n\t\t\t\t<slot />\n\t\t\t{/if}\n\t\t</Upload>\n\t\t{#if active_source === \"webcam\" && (streaming || (!streaming && !value))}\n\t\t\t<Webcam\n\t\t\t\ton:capture={(e) => handle_save(e.detail)}\n\t\t\t\ton:stream={(e) => handle_save(e.detail)}\n\t\t\t\ton:error\n\t\t\t\ton:drag\n\t\t\t\ton:upload={(e) => handle_save(e.detail)}\n\t\t\t\t{mirror_webcam}\n\t\t\t\t{streaming}\n\t\t\t\tmode=\"image\"\n\t\t\t\tinclude_audio={false}\n\t\t\t\t{i18n}\n\t\t\t/>\n\t\t{:else if value !== null && !streaming}\n\t\t\t<!-- svelte-ignore a11y-click-events-have-key-events-->\n\t\t\t<!-- svelte-ignore a11y-no-static-element-interactions-->\n\t\t\t<div class:selectable class=\"image-frame\" on:click={handle_click}>\n\t\t\t\t<Image src={value.url} alt={value.alt_text} />\n\t\t\t</div>\n\t\t{/if}\n\t</div>\n\t{#if sources.length > 1 || sources.includes(\"clipboard\")}\n\t\t<SelectSource\n\t\t\t{sources}\n\t\t\tbind:active_source\n\t\t\t{handle_clear}\n\t\t\thandle_select={handle_select_source}\n\t\t/>\n\t{/if}\n</div>\n\n<style>\n\t.image-frame :global(img) {\n\t\twidth: var(--size-full);\n\t\theight: var(--size-full);\n\t\tobject-fit: cover;\n\t}\n\n\t.image-frame {\n\t\tobject-fit: cover;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.upload-container {\n\t\theight: 100%;\n\t\tflex-shrink: 1;\n\t\tmax-height: 100%;\n\t}\n\n\t.image-container {\n\t\tdisplay: flex;\n\t\theight: 100%;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmax-height: 100%;\n\t}\n\n\t.selectable {\n\t\tcursor: crosshair;\n\t}\n</style>\n"],"names":["insert","append","createEventDispatcher","create_if_block_2","create_if_block_1","ImageIcon","tick","create_if_block_3","attr","create_if_block"],"mappings":"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"}
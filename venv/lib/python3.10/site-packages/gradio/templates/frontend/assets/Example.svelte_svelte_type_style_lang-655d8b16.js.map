{"version":3,"file":"Example.svelte_svelte_type_style_lang-655d8b16.js","sources":["../../../../js/image/shared/Image.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport type { HTMLImgAttributes } from \"svelte/elements\";\n\ttype $$Props = HTMLImgAttributes;\n\n\timport { resolve_wasm_src } from \"@gradio/wasm/svelte\";\n\n\texport let src: HTMLImgAttributes[\"src\"] = undefined;\n\n\tlet resolved_src: typeof src;\n\n\t// The `src` prop can be updated before the Promise from `resolve_wasm_src` is resolved.\n\t// In such a case, the resolved value for the old `src` has to be discarded,\n\t// This variable `latest_src` is used to pick up only the value resolved for the latest `src` prop.\n\tlet latest_src: typeof src;\n\t$: {\n\t\t// In normal (non-Wasm) Gradio, the `<img>` element should be rendered with the passed `src` props immediately\n\t\t// without waiting for `resolve_wasm_src()` to resolve.\n\t\t// If it waits, a black image is displayed until the async task finishes\n\t\t// and it leads to undesirable flickering.\n\t\t// So set `src` to `resolved_src` here.\n\t\tresolved_src = src;\n\n\t\tlatest_src = src;\n\t\tconst resolving_src = src;\n\t\tresolve_wasm_src(resolving_src).then((s) => {\n\t\t\tif (latest_src === resolving_src) {\n\t\t\t\tresolved_src = s;\n\t\t\t}\n\t\t});\n\t}\n</script>\n\n<!-- svelte-ignore a11y-missing-attribute -->\n<img src={resolved_src} {...$$restProps} />\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;yCAiCU,GAAY,CAAA,CAAA,CAAA;;kBAAM,GAAW,CAAA,CAAA,CAAA;;;;;;;;;;;;;;;GAAvC,MAA0C,CAAA,MAAA,EAAA,GAAA,EAAA,MAAA,CAAA,CAAA;;;;2FAAhC,GAAY,CAAA,CAAA,CAAA,CAAA,IAAA,EAAA,GAAA,EAAA,aAAA,EAAA;iDAAM,GAAW,CAAA,CAAA,CAAA;;;;;;;;;;;;;;;;AA3B3B,CAAA,IAAA,EAAA,GAAG,GAA6B,SAAS,EAAA,GAAA,OAAA,CAAA;KAEhD,YAAwB,CAAA;;;;;KAKxB,UAAsB,CAAA;;;;;;;;;;GACzB;;;;;;AAMA,IAAA,YAAA,CAAA,CAAA,EAAA,YAAY,GAAG,GAAG,CAAA,CAAA;;AAElB,IAAA,YAAA,CAAA,CAAA,EAAA,UAAU,GAAG,GAAG,CAAA,CAAA;AACV,IAAA,MAAA,aAAa,GAAG,GAAG,CAAA;;AACzB,IAAA,gBAAgB,CAAC,aAAa,CAAE,CAAA,IAAI,CAAE,CAAC,IAAA;AAClC,KAAA,IAAA,UAAU,KAAK,aAAa,EAAA;AAC/B,MAAA,YAAA,CAAA,CAAA,EAAA,YAAY,GAAG,CAAC,CAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;"}